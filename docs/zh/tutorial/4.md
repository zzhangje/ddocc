# 4. 组建一个复杂的命令

在本教程中，我们将学习如何组合多个简单命令来创建复杂的机器人行为。复杂命令通过将基本命令组合成功能完整的操作序列，实现更高级的机器人功能。[代码下载链接](https://github.com/zzhangje/ddocc/archive/refs/heads/v0.4.zip)

WPILib提供了多种命令组合方式：

- **顺序命令**：按顺序执行多个命令
- **并行命令**：同时执行多个命令
- **条件命令**：根据条件选择执行不同的命令分支
- **循环命令**：重复执行某个命令或命令序列

## 示例程序

让我们创建一个`PickCoral`复杂命令，它组合了多个基本动作来完成收取游戏物品的完整流程：

```java

```

## 你的回合

现在你需要创建一个`ScoreCoral`复杂命令，它将完成投放游戏物品的完整流程：

```java
public class ScoreCoral extends Command {
  private final Intake intake;
  private final Command command;

  public ScoreCoral(Intake intake) {
    this.intake = intake;
    this.command = new SequentialCommandGroup(
      // TODO: add commands here
    );
    addRequirements(intake);
  }

  @Override
  public void initialize() {
    command.initialize();
  }

  @Override
  public void execute() {
    command.execute();
  }

  @Override
  public void end(boolean interrupted) {
    command.end(interrupted);
  }

  @Override
  public boolean isFinished() {
    return command.isFinished();
  }
}
```

## 效果演示

通过A键触发自动拾取命令：吸取装置放下->滚筒吸入->检测到物品后自动收起。通过B键触发自动得分命令：吸取装置放下->滚筒吐出->检测到物品吐出后自动复位。

<div style="position: relative; width: 100%; height: 0; padding-bottom: 56.25%;">
  <iframe src="https://player.bilibili.com/player.html?bvid=BV1G6HWzfEnF&page=1&high_quality=1&danmaku=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div>
